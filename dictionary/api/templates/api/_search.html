{% extends "api/base.html" %}

{% block title %} {{ label }} Search {% endblock %}

{% block content %}

<h4>{{ label }}</h4>

{% if artists %}
    {% for artist in artists %}
        <div><a href="{% url 'artist-highlight' pk=artist.id %}">{{ artist.name }}</a></div>
    {% endfor %}
{% endif %}

{% if places %}
    {% for place in places %}
        <div><a href="{% url 'place-highlight' pk=place.id %}">{{ place.name }}</a></div>
    {% endfor %}
{% endif %}

{% if domains %}
    {% for domain in domains %}
        <div><a href="{% url 'domain-highlight' pk=domain.id %}">{{ domain.name }}</a></div>
    {% endfor %}
{% endif %}

{% if examples %}
    <div class="row">
    {% for example in examples %}
        <div>
            {% ifchanged example.song %}
                <span class="date">{{ example.song.release_date_string }}</span>
                {% if example.primary_artists %}
                    {% for artist in example.primary_artists %}
                        <span class="artist">
                            <a href="{% url 'artist-highlight' pk=artist.id %}">{{ artist.name }}</a>
                        </span>{% if not forloop.last %}, {% endif %}
                    {% endfor %}
                {% endif %}
                <a href="{% url 'song-highlight' pk=example.song.id %}" class="title">"{{ example.song.title }}"</a>
                {% if example.featured_artists %}
                    feat.
                    {% for artist in example.featured_artists %}
                        <span class="artist">
                            <a href="{% url 'artist-highlight' pk=artist.id %}">{{ artist.name }}</a>
                        </span>{% if not forloop.last %}, {% endif %}
                    {% endfor %}
                {% endif %}
                <span class="album">[{{example.song.album}}]</span>
            {% endifchanged %}
            <div><a href="{% url 'example-highlight' pk=example.id %}">{{ example.text }}</a></div>
        </div>
    {% endfor %}
    </div>
{% endif %}

{% if semantic_classes %}
    {% for semantic_class in semantic_classes %}
        <div><a href="{% url 'semanticclass-highlight' pk=semantic_class.id %}">{{ semantic_class.name }}</a></div>
    {% endfor %}
{% endif %}

{% if senses %}
    {% for sense in senses %}
        <div><a href="{% url 'sense-highlight' pk=sense.id %}">{{ sense.headword }}</a></div>
    {% endfor %}
{% endif %}

{% if song_titles %}
    {% for song in song_titles %}
        <div class="song">
            {{ song.release_date }}
            {% if song.primary_artists %}
                {% for artist in song.primary_artists %}
                    <span class="artist">
                        <a href="{% url 'artist-highlight' pk=artist.id %}">{{ artist.name }}</a>
                    </span>{% if not forloop.last %}, {% endif %}
                {% endfor %}
            {% endif %}
            <a href="{% url 'song-highlight' pk=song.id %}">"{{ song.title }}"</a>
            {% if song.featured_artists %}
                feat.
                {% for artist in song.featured_artists %}
                    <span class="artist">
                        <a href="{% url 'artist-highlight' pk=artist.id %}">{{ artist.name }}</a>
                    </span>{% if not forloop.last %}, {% endif %}
                {% endfor %}
            {% endif %}
            [{{ song.album }}]
        </div>
    {% endfor %}
{% endif %}

{% if song_lyrics %}
    {% for song in song_lyrics %}
        <div class="song">
            {{ song.release_date }}
            {% if song.primary_artists %}
                {% for artist in song.primary_artists %}
                    <span class="artist">
                        <a href="{% url 'artist-highlight' pk=artist.id %}">{{ artist.name }}</a>
                    </span>{% if not forloop.last %}, {% endif %}
                {% endfor %}
            {% endif %}
            <a href="{% url 'song-highlight' pk=song.id %}">"{{ song.title }}"</a>
            {% if song.featured_artists %}
                feat.
                {% for artist in song.featured_artists %}
                    <span class="artist">
                        <a href="{% url 'artist-highlight' pk=artist.id %}">{{ artist.name }}</a>
                    </span>{% if not forloop.last %}, {% endif %}
                {% endfor %}
            {% endif %}
            [{{ song.album }}]
        </div>
    {% endfor %}
{% endif %}

{% endblock %}